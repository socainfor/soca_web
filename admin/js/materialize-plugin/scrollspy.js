!function(t){var e=t(window),i=[],r=[],o=!1,l=0,n={top:0,right:0,bottom:0,left:0};function s(o){++l;var s,a,c,f,u,h=e.scrollTop(),p=e.scrollLeft(),d=p+e.width(),g=h+e.height(),v=(s=h+n.top+o||200,a=d+n.right,c=g+n.bottom,f=p+n.left,u=t(),t.each(i,function(t,e){if(e.height()>0){var i=e.offset().top,r=e.offset().left,o=r+e.width(),l=i+e.height();!(r>a||o<f||i>c||l<s)&&u.push(e)}}),u);t.each(v,function(t,e){"number"!=typeof e.data("scrollSpy:ticks")&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",l)}),t.each(r,function(t,e){var i=e.data("scrollSpy:ticks");"number"==typeof i&&i!==l&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))}),r=v}function a(){e.trigger("scrollSpy:winSize")}t.scrollSpy=function(r,l){l=t.extend({throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},l);var a=[];(r=t(r)).each(function(e,r){i.push(t(r)),t(r).data("scrollSpy:id",e),t('a[href="#'+t(r).attr("id")+'"]').click(function(e){e.preventDefault();var i=t(Materialize.escapeHash(this.hash)).offset().top+1;t("html, body").animate({scrollTop:i-l.scrollOffset},{duration:400,queue:!1,easing:"easeOutCubic"})})}),n.top=l.offsetTop||0,n.right=l.offsetRight||0,n.bottom=l.offsetBottom||0,n.left=l.offsetLeft||0;var c=Materialize.throttle(function(){s(l.scrollOffset)},l.throttle||100),f=function(){t(document).ready(c)};return o||(e.on("scroll",f),e.on("resize",f),o=!0),setTimeout(f,0),r.on("scrollSpy:enter",function(){a=t.grep(a,function(t){return 0!=t.height()});var e=t(this);a[0]?(t(l.getActiveElement(a[0].attr("id"))).removeClass(l.activeClass),e.data("scrollSpy:id")<a[0].data("scrollSpy:id")?a.unshift(t(this)):a.push(t(this))):a.push(t(this)),t(l.getActiveElement(a[0].attr("id"))).addClass(l.activeClass)}),r.on("scrollSpy:exit",function(){if((a=t.grep(a,function(t){return 0!=t.height()}))[0]){t(l.getActiveElement(a[0].attr("id"))).removeClass(l.activeClass);var e=t(this);(a=t.grep(a,function(t){return t.attr("id")!=e.attr("id")}))[0]&&t(l.getActiveElement(a[0].attr("id"))).addClass(l.activeClass)}}),r},t.winSizeSpy=function(i){return t.winSizeSpy=function(){return e},i=i||{throttle:100},e.on("resize",Materialize.throttle(a,i.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery);