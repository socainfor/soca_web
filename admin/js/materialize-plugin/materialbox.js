!function(e){e.fn.materialbox=function(){return this.each(function(){if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var t,i,o=!1,a=!0,n=275,l=200,r=e(this),d=e("<div></div>").addClass("material-placeholder"),c=r.attr("style");r.wrap(d),r.on("click",function(){var l=r.parent(".material-placeholder"),d=window.innerWidth,c=window.innerHeight,u=r.width(),p=r.height();if(!1===a)return s(),!1;if(o&&!0===a)return s(),!1;a=!1,r.addClass("active"),o=!0,l.css({width:l[0].getBoundingClientRect().width,height:l[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),t=void 0,i=l[0].parentNode;for(;null!==i&&!e(i).is(document);){var h=e(i);"visible"!==h.css("overflow")&&(h.css("overflow","visible"),t=void 0===t?h:t.add(h)),i=i.parentNode}r.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}).data("width",u).data("height",p);var f=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){!0===a&&s()});r.before(f);var v=f[0].getBoundingClientRect();if(f.css({width:d,height:c,left:-1*v.left,top:-1*v.top}),f.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"}),""!==r.data("caption")){var m=e('<div class="materialbox-caption"></div>');m.text(r.data("caption")),e("body").append(m),m.css({display:"inline"}),m.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"})}var w=0,y=0;u/d>p/c?(w=.9*d,y=.9*d*(p/u)):(w=.9*c*(u/p),y=.9*c),r.hasClass("responsive-img")?r.velocity({"max-width":w,width:u},{duration:0,queue:!1,complete:function(){r.css({left:0,top:0}).velocity({height:y,width:w,left:e(document).scrollLeft()+d/2-r.parent(".material-placeholder").offset().left-w/2,top:e(document).scrollTop()+c/2-r.parent(".material-placeholder").offset().top-y/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){a=!0}})}}):r.css("left",0).css("top",0).velocity({height:y,width:w,left:e(document).scrollLeft()+d/2-r.parent(".material-placeholder").offset().left-w/2,top:e(document).scrollTop()+c/2-r.parent(".material-placeholder").offset().top-y/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){a=!0}}),e(window).on("scroll.materialbox",function(){o&&s()}),e(window).on("resize.materialbox",function(){o&&s()}),e(document).on("keyup.materialbox",function(e){27===e.keyCode&&!0===a&&o&&s()})})}function s(){a=!1;var i=r.parent(".material-placeholder"),n=(window.innerWidth,window.innerHeight,r.data("width")),d=r.data("height");r.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e(window).off("scroll.materialbox"),e(document).off("keyup.materialbox"),e(window).off("resize.materialbox"),e("#materialbox-overlay").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){o=!1,e(this).remove()}}),r.velocity({width:n,height:d,left:0,top:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){i.css({height:"",width:"",position:"",top:"",left:""}),r.removeAttr("style"),r.attr("style",c),r.removeClass("active"),a=!0,t&&t.css("overflow","")}}),e(".materialbox-caption").velocity({opacity:0},{duration:l,queue:!1,easing:"easeOutQuad",complete:function(){e(this).remove()}})}})},e(document).ready(function(){e(".materialboxed").materialbox()})}(jQuery);